@model Interext.Models.ProfileViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section CssStyles{
    @Styles.Render("~/Content/eventsPageCss")
    @Styles.Render("~/Content/profilePageCss")
}

<section class="profile">
    <div class="profile-content">
        <a href="/Account/Edit" class="btn btn-dark save-profile-btn">Edit Profile</a>
        @using (Ajax.BeginForm("DeleteUser", new { Id = ViewData["Id"] },
            new AjaxOptions { HttpMethod = "Get", OnFailure = "onDeleteAccountFailure", OnSuccess = "onDeleteAccountSuccess" },
            new { id = "deleteAccountForm" }))
        {
            <input type="submit" class="btn btn-dark delete-profile-btn" value="Delete Profile" />
        }
        @*@Html.ActionLink("Delete Profile", "DeleteUser", "Account", new { @class = "btn btn-dark delete-profile-btn" }))*@
        <div class="img-wrapper">
            <img src="@Model.ImageUrl" />
        </div>
        <div class="profile-info">
            <h1 class="name">@Html.DisplayFor(model => model.FirstName) @Html.DisplayFor(model => model.LastName)</h1>
            <table class="basic-info">
                <tr>
                    <td>
                        Birth day
                    </td>
                    <td>@Model.BirthDate</td>
                </tr>
                <tr>
                    <td>
                        Gender
                    </td>
                    <td> @Html.Action("GetGender", "Account")</td>
                </tr>
                <tr>
                    <td>
                        <span class="fa fa-map-marker"></span>Location
                    </td>
                    <td>@Model.Address</td>
                </tr>
            </table>
        </div>
        <div class="interests">
            <h2>Interests:</h2>
            @Model.InterestsToDisplay
        </div>
        <div class="clear"></div>
        
    </div>
</section>
<div class="month-events-wrapper">
    <h2 class="months-main-title">FUTURE EVENTS</h2>
    <div class="month-events">
        @foreach (Interext.Models.EventsByMonth eventsByMonth in (List<Interext.Models.EventsByMonth>)ViewData["EventsByMonth"])
        {

        <h3 class="month-title">@eventsByMonth.Month</h3>
        <div id="content" class="no-sidebar">
            <div id="eventsWall" class="event-boxes-container noborder norounded light-bg-entries">
                @Html.Partial("~/Views/Event/_EventsWall.cshtml", eventsByMonth.MonthEvents);

            </div>
            <div class="bottom-spacer clear"></div>
        </div>

        }
    </div>

</div>
<div class="places-wrapper">
    <h2 class="places-main-title">SUBSCRIBED PLACES</h2>
    <div class="places">
    </div>
</div>

<div id="dialog-confirm" title="Delete this account?">
    <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;">
        </span>The account will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/showProfileJs")
}